AutoLoadPlugin true
WriteQueueLimitHigh 1000000
WriteQueueLimitLow   800000
LoadPlugin syslog
LoadPlugin logfile

<Plugin logfile>
    LogLevel info
    File "/var/log/collectd.log"
    Timestamp true
    PrintSeverity true
</Plugin>

LoadPlugin aggregation
<Plugin "aggregation">
  <Aggregation>
    Plugin "cpu"
    Type "cpu"

    GroupBy "Host"
    GroupBy "TypeInstance"

    SetPlugin "cpu"

    CalculateSum true
    CalculateAverage true
    CalculateMaximum true
    CalculateNum true
</Aggregation>
</Plugin>

LoadPlugin cpu
<Plugin "cpu">
    ValuesPercentage false
</Plugin>
LoadPlugin df
<Plugin "df">
     ReportInodes true
</Plugin>
LoadPlugin disk

LoadPlugin interface
LoadPlugin load
LoadPlugin memory
<Plugin "memory">
     ValuesPercentage true
</Plugin>
LoadPlugin swap
LoadPlugin tail
<Plugin "tail">
<File "/var/log/collectd.log">
  Instance "nginix"
  <Match>
    Regex "\\[error\\]"
    DSType "DeriveInc"
    Type "derive"
    Instance "errors_all"
  </Match>
  <Match>
    Regex "\\[error\\] write_opentsdb"
    DSType "DeriveInc"
    Type "derive"
    Instance "errors_write_opentsdb"
  </Match>
</File>
</Plugin>
LoadPlugin uptime

LoadPlugin write_opentsdb
   <Plugin write_opentsdb>
      <Node "example">
            Host "ops-opentsdb"
            Port "4242"
            Protocol "tcp"
            LogSendErrors true
        Prefix "cosmos.collectd"
        Tags ""
       InferServiceTags false
      </Node>
   </Plugin>

LoadPlugin processes
    <Plugin processes>
        ProcessMatch "collectd" "*collectd*"
    </Plugin>

